/* src/frontend/features/chat/chat.css — V10.4 avec FG à gauche + violet foncé */
:root{
  --glass-bg: rgba(22,22,26,.55);
  --glass-blur: 18px;
  --glass-border-color: rgba(255,255,255,.10);
  --glass-shadow: 0 10px 30px rgba(0,0,0,.35);
  --radius-xl: 18px;

  --color-text-primary:#e9e9ef;

  --chat-bubble-width: 900px;
  --bubbleW: min(var(--chat-bubble-width), 90%);

  --color-anima:#e11d48;
  --color-neo:#2563eb;
  --color-nexus:#10b981;
  --anima-hex:#ff496a;
  --neo-hex:#30a4ff;
  --nexus-hex:#8b5cff;
  --user-hex: #6a0dad; /* violet foncé distinct de Neo */
  --bubble-tint: 80%;
  --halo-opacity:.40;
}

.chat-container{
  background:var(--glass-bg);
  -webkit-backdrop-filter:blur(var(--glass-blur)); backdrop-filter:blur(var(--glass-blur));
  border:1px solid var(--glass-border-color);
  border-radius:var(--radius-xl);
  box-shadow: var(--glass-shadow);
  display:flex; flex-direction:column; height:100%;
}

.chat-header{
  display:flex; align-items:center; justify-content:space-between; gap:.75rem;
  padding:.875rem 1.25rem;
  border-bottom:1px solid var(--glass-border-color);
  background:linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.02));
}

.chat-messages{ display:flex; flex-direction:column; gap:14px; padding:1rem 1.25rem; max-height:calc(100vh - 260px); overflow-y:auto; }

.message{ display:flex; flex-direction:column; gap:.25rem; }
.message.user{ align-items:flex-start; } /* FG à gauche */
.message.assistant{ align-items:flex-start; }

.message-meta{ display:flex; gap:.5rem; font-size:.75rem; font-weight:600; letter-spacing:.01em; color:#fff; opacity:.9; line-height:1; margin-bottom:.45rem; }
.sender-name { font-family: 'Comic Sans MS', cursive, sans-serif; } /* manuscrit */
.message-time { font-size: 0.7rem; opacity: 0.75; }

.message-content{
  background:transparent!important; border:none!important; box-shadow:none!important;
  width:var(--bubbleW); max-width:var(--bubbleW); min-width:var(--bubbleW);
  display:flex; flex-direction:column; gap:.5rem;
}

.message-text{
  line-height:1.6; color:var(--color-text-primary);
  padding:.85rem 1rem; border-radius:14px; border:none; text-align:left;
  width:100% !important;
  -webkit-backdrop-filter:blur(6px) saturate(120%); backdrop-filter:blur(6px) saturate(120%);
  box-shadow:0 8px 24px rgba(0,0,0,.25), 0 0 22px rgba(255,255,255,.07);
}

.message.assistant.anima .message-text{
  background: color-mix(in srgb, var(--anima-hex) var(--bubble-tint), transparent);
  color:#fff;
  box-shadow:0 14px 34px rgba(255,73,106,var(--halo-opacity)), 0 0 0 1px rgba(255,255,255,.06) inset;
}
.message.assistant.neo .message-text{
  background: color-mix(in srgb, var(--neo-hex) var(--bubble-tint), transparent);
  color:#fff;
  box-shadow:0 14px 34px rgba(48,164,255,var(--halo-opacity)), 0 0 0 1px rgba(255,255,255,.06) inset;
}
.message.assistant.nexus .message-text{
  background: color-mix(in srgb, var(--nexus-hex) var(--bubble-tint), transparent);
  color:#fff;
  box-shadow:0 14px 34px rgba(139,92,255,var(--halo-opacity)), 0 0 0 1px rgba(255,255,255,.06) inset;
}

.message.user .message-text{
  background: color-mix(in srgb, var(--user-hex) var(--bubble-tint), transparent);
  color:#fff;
  box-shadow:0 12px 28px rgba(106,13,173,.35), 0 0 0 1px rgba(255,255,255,.06) inset;
}

.chat-input-area{
  padding:.9rem 1.25rem 1.25rem;
  border-top:1px solid var(--glass-border-color);
  background:linear-gradient(0deg, rgba(255,255,255,.04), rgba(255,255,255,.02));
}
.chat-form{ display:grid; grid-template-columns:1fr auto; gap:.5rem; align-items:center; }
.chat-input{
  width:100%; max-height:160px; resize:none;
  background:rgba(255,255,255,.06);
  border:1px solid var(--glass-border-color);
  border-radius:12px; padding:.75rem .9rem; color:#fff;
  line-height:1.5; /* réalignement vertical */
  transition:border-color .2s ease, background .2s ease;
}
.chat-input:focus{ border-color:var(--user-hex); background:rgba(255,255,255,.08); outline:none; }

.chat-send-button{
  width:36px; height:36px; display:inline-flex; align-items:center; justify-content:center;
  margin-top: 0; /* réalignement flèche */
}
