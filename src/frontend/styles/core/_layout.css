/* src/frontend/styles/core/_layout.css */
/* V11.1 â€” Hotfix branding/sidebar (logo + gaps) & mobile compaction */

:root{
  --sidebar-w: 320px;
  --sidebar-width: 320px;
  --header-height: 56px;
}

/* ===== Container ===== */
.app-container{
  display:flex; flex-direction:column;
  height:100vh; width:100vw;
  background-color:var(--color-bg);
  background-image:var(--color-bg-gradient);
  background-attachment:fixed; background-size:cover;
  color:var(--color-text-primary);
  overflow:hidden;
}

/* ===== Header (mobile) ===== */
.app-header{
  grid-area:header;
  flex-shrink:0; height:var(--header-height);
  display:flex; align-items:center; justify-content:space-between;
  padding:0 12px;
  position:sticky; top:0; left:0; right:0;
  z-index:20;
  background:rgba(11,15,26,.92) !important;
  backdrop-filter:blur(12px);
  border-bottom:1px solid rgba(255,255,255,.08);
  will-change:transform; backface-visibility:hidden; transform:translateZ(0);
}
.header-logo-title{ display:flex; align-items:center; gap:10px; }
.header-logo{ display:none; }
.header-title{
  font-size:16px; font-weight:600; line-height:1;
  white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
}
.header-actions{ margin-left:auto; position:relative; display:flex; align-items:center; gap:8px; }

.app-sidebar{ display:none; grid-area:sidebar; }
.header-nav{ display:flex; gap:8px; }

/* ===== Content ===== */
.app-content{
  flex:1 1 auto; overflow-y:auto; padding:0;
  display:flex; flex-direction:column; min-height:0;
  grid-area:content;
}

.tab-content{ display:none; flex-grow:1; flex-direction:column; min-height:0; }
.tab-content.active{ display:flex; }

/* ===== Desktop â‰¥768px ===== */
@media (min-width:768px){
  .app-container{
    display:grid;
    grid-template-columns:var(--sidebar-width) 1fr;
    grid-template-rows:1fr;
    grid-template-areas:"sidebar content";
  }
  .app-header{ display:none; }

  .app-sidebar{
    grid-area:sidebar;
    display:flex; flex-direction:column; justify-content:space-between;
    /* ðŸ”§ logo trop loin â†’ padding rÃ©duit et symÃ©trisÃ© */
    padding:12px 14px;
    background-color:transparent !important;
    border-right:1px solid rgba(255,255,255,.08);
    min-height:100vh;
  }
  .app-content{ grid-area:content; padding:20px; }
}

/* ===== Branding (desktop+mobile) ===== */
.brand-block{
  display:flex; align-items:center;
  /* ðŸ”§ gaps plus serrÃ©s */
  gap:10px;
  padding:6px 10px; border-radius:12px;
  background:linear-gradient(180deg, rgba(255,255,255,.03), rgba(255,255,255,.015));
}
.brand-logo{
  width:auto; height:auto; max-height:44px; /* ðŸ”§ 48â†’44 */
  object-fit:contain; aspect-ratio:auto;
  margin-left:0; /* ðŸ”§ pas de dÃ©calage */
  filter:drop-shadow(0 0 10px rgba(0,132,255,.15));
}
.brand-title{
  font-size:clamp(18px, 2.1vw, 24px); /* ðŸ”§ un ton plus compact */
  line-height:1.05; letter-spacing:.06em; text-transform:uppercase;
  white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
}

/* ===== Sidebar nav ===== */
.sidebar-nav{
  display:flex; flex-direction:column; gap:.25rem;
  max-width:var(--sidebar-w); width:var(--sidebar-w);
  overflow:hidden;
}

/* ===== Mobile portrait â‰¤760px ===== */
@media (max-width:760px){
  :root{ --sidebar-w:100%; }

  .app-container{
    display:grid;
    grid-template-columns:1fr;
    grid-template-rows:auto 1fr;
    grid-template-areas:"header" "content";
    height:100dvh;
  }

  .header-logo{
    display:block;
    width:28px;
    height:28px;
    object-fit:contain;
  }

  .header-title{ font-size:15px; }

  .app-sidebar{
    display:none !important;
  }

  .app-content{
    grid-area:content; padding:10px 12px max(env(safe-area-inset-bottom),12px);
    overflow-y:auto; overflow-x:hidden; overscroll-behavior-y:contain; min-height:0;
  }
}

/* ===== Mobile paysage â‰¤920px ===== */
@media (max-width:920px) and (orientation:landscape){
  .brand-logo{ max-height:34px; }
  .brand-title{ display:none; }
  .app-content{ padding:10px 12px; }
}

/* ===== A11y ===== */
:focus-visible{ outline:2px solid var(--color-primary); outline-offset:2px; }
