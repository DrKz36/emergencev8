backend\features\guardian\storage_service.py:20: error: Module "google.cloud" has no attribute "storage"  [attr-defined]
backend\features\guardian\storage_service.py:184: error: Item "None" of "Any | None" has no attribute "list_blobs"  [union-attr]
backend\core\memory\memory_sync.py:47: note: By default the bodies of untyped functions are not checked, consider using --check-untyped-defs  [annotation-unchecked]
backend\features\documents\parser.py:66: note: By default the bodies of untyped functions are not checked, consider using --check-untyped-defs  [annotation-unchecked]
backend\features\memory\weighted_retrieval_metrics.py:34: error: Incompatible types in assignment (expression has type "tuple[Any, ...]", target has type "CollectorRegistry")  [assignment]
backend\features\memory\weighted_retrieval_metrics.py:35: error: Argument 4 to "Histogram" has incompatible type "**dict[str, CollectorRegistry]"; expected "str"  [arg-type]
backend\features\memory\weighted_retrieval_metrics.py:35: error: Argument 4 to "Histogram" has incompatible type "**dict[str, CollectorRegistry]"; expected "Sequence[str] | None"  [arg-type]
backend\features\memory\weighted_retrieval_metrics.py:35: error: Argument 4 to "Histogram" has incompatible type "**dict[str, CollectorRegistry]"; expected "Sequence[float | str]"  [arg-type]
backend\shared\agents_guard.py:355: error: Unsupported left operand type for - ("None")  [operator]
backend\shared\agents_guard.py:355: note: Left operand is of type "datetime | None"
backend\features\memory\proactive_hints.py:68: note: By default the bodies of untyped functions are not checked, consider using --check-untyped-defs  [annotation-unchecked]
backend\features\memory\proactive_hints.py:69: note: By default the bodies of untyped functions are not checked, consider using --check-untyped-defs  [annotation-unchecked]
backend\features\memory\intent_tracker.py:66: note: By default the bodies of untyped functions are not checked, consider using --check-untyped-defs  [annotation-unchecked]
backend\cli\consolidate_all_archives.py:26: error: Cannot find implementation or library stub for module named "src.backend.core.database.manager"  [import-not-found]
backend\cli\consolidate_all_archives.py:26: note: See https://mypy.readthedocs.io/en/stable/running_mypy.html#missing-imports
backend\cli\consolidate_all_archives.py:27: error: Cannot find implementation or library stub for module named "src.backend.features.memory.gardener"  [import-not-found]
backend\cli\consolidate_all_archives.py:28: error: Cannot find implementation or library stub for module named "src.backend.features.memory.vector_service"  [import-not-found]
backend\cli\consolidate_all_archives.py:29: error: Cannot find implementation or library stub for module named "src.backend.features.memory.analyzer"  [import-not-found]
backend\cli\consolidate_all_archives.py:100: error: Argument 1 to "append" of "list" has incompatible type "int"; expected "str"  [arg-type]
backend\features\chat\rag_cache.py:218: error: Item "Awaitable[Any]" of "Awaitable[Any] | Any" has no attribute "get"  [union-attr]
backend\features\chat\rag_cache.py:219: error: Item "Awaitable[Any]" of "Awaitable[Any] | Any" has no attribute "get"  [union-attr]
backend\features\chat\rag_cache.py:238: error: Item "None" of "Redis | None" has no attribute "get"  [union-attr]
backend\features\chat\rag_cache.py:241: error: Argument 1 to "loads" has incompatible type "Awaitable[Any] | Any"; expected "str | bytes | bytearray"  [arg-type]
backend\features\chat\rag_cache.py:248: error: Item "None" of "Redis | None" has no attribute "setex"  [union-attr]
backend\core\database\manager.py:135: error: Missing return statement  [return]
backend\core\database\manager.py:161: error: Missing return statement  [return]
backend\core\database\manager.py:186: error: Missing return statement  [return]
backend\core\database\manager.py:208: error: Missing return statement  [return]
backend\features\auth\service.py:141: error: Argument 1 to "_normalize_email" of "AuthService" has incompatible type "Any | None"; expected "str"  [arg-type]
backend\features\auth\service.py:458: error: Argument 1 to "int" has incompatible type "Any | None"; expected "str | Buffer | SupportsInt | SupportsIndex | SupportsTrunc"  [arg-type]
backend\features\auth\service.py:463: error: Argument 1 to "int" has incompatible type "Any | None"; expected "str | Buffer | SupportsInt | SupportsIndex | SupportsTrunc"  [arg-type]
backend\features\usage\guardian.py:70: error: Need type annotation for "user_stats"  [var-annotated]
backend\features\usage\guardian.py:85: error: Unsupported operand types for + ("object" and "int")  [operator]
backend\features\usage\guardian.py:86: error: "object" has no attribute "add"  [attr-defined]
backend\features\usage\guardian.py:88: error: Unsupported operand types for + ("object" and "int")  [operator]
backend\features\usage\guardian.py:94: error: Unsupported operand types for + ("object" and "int")  [operator]
backend\features\usage\guardian.py:95: error: "object" has no attribute "append"  [attr-defined]
backend\features\usage\guardian.py:110: error: Unsupported operand types for / ("object" and "int")  [operator]
backend\features\usage\guardian.py:111: error: No overload variant of "list" matches argument type "object"  [call-overload]
backend\features\usage\guardian.py:111: note: Possible overload variants:
backend\features\usage\guardian.py:111: note:     def [_T] list(self) -> list[_T]
backend\features\usage\guardian.py:111: note:     def [_T] list(self, Iterable[_T], /) -> list[_T]
backend\features\usage\guardian.py:112: error: Argument "requests_count" to "UsageReportUser" has incompatible type "object"; expected "int"  [arg-type]
backend\features\usage\guardian.py:113: error: Argument "errors_count" to "UsageReportUser" has incompatible type "object"; expected "int"  [arg-type]
backend\features\usage\guardian.py:114: error: Argument "errors" to "UsageReportUser" has incompatible type "object"; expected "list[dict[Any, Any]]"  [arg-type]
backend\features\memory\unified_retriever.py:75: note: By default the bodies of untyped functions are not checked, consider using --check-untyped-defs  [annotation-unchecked]
backend\features\memory\unified_retriever.py:76: note: By default the bodies of untyped functions are not checked, consider using --check-untyped-defs  [annotation-unchecked]
backend\features\memory\unified_retriever.py:77: note: By default the bodies of untyped functions are not checked, consider using --check-untyped-defs  [annotation-unchecked]
backend\features\memory\unified_retriever.py:78: note: By default the bodies of untyped functions are not checked, consider using --check-untyped-defs  [annotation-unchecked]
backend\features\memory\unified_retriever.py:409: error: Incompatible types in assignment (expression has type "float", variable has type "int")  [assignment]
backend\features\memory\unified_retriever.py:418: error: Argument "key" to "sort" of "list" has incompatible type "Callable[[dict[str, object]], object]"; expected "Callable[[dict[str, object]], SupportsDunderLT[Any] | SupportsDunderGT[Any]]"  [arg-type]
backend\features\memory\unified_retriever.py:418: error: Incompatible return value type (got "object", expected "SupportsDunderLT[Any] | SupportsDunderGT[Any]")  [return-value]
backend\features\memory\unified_retriever.py:423: error: Incompatible types in assignment (expression has type "object", variable has type "dict[str, Any]")  [assignment]
backend\features\dashboard\admin_service.py:278: error: Incompatible types in assignment (expression has type "float", variable has type "int")  [assignment]
backend\features\dashboard\admin_service.py:529: error: Incompatible types in assignment (expression has type "float", variable has type "int")  [assignment]
backend\middleware\usage_tracking.py:150: error: Argument "user_email" to "_log_feature_usage_background" of "UsageTrackingMiddleware" has incompatible type "str | None"; expected "str"  [arg-type]
backend\middleware\usage_tracking.py:170: error: Argument "user_email" to "_log_feature_usage_background" of "UsageTrackingMiddleware" has incompatible type "str | None"; expected "str"  [arg-type]
backend\middleware\usage_tracking.py:182: error: Argument "user_email" to "_log_user_error_background" of "UsageTrackingMiddleware" has incompatible type "str | None"; expected "str"  [arg-type]
backend\features\monitoring\router.py:338: error: Incompatible return value type (got "JSONResponse", expected "dict[str, Any]")  [return-value]
backend\features\monitoring\router.py:349: error: Incompatible return value type (got "JSONResponse", expected "dict[str, Any]")  [return-value]
backend\features\guardian\router.py:68: error: Need type annotation for "results"  [var-annotated]
backend\features\guardian\router.py:103: error: Need type annotation for "results"  [var-annotated]
backend\features\guardian\router.py:137: error: Need type annotation for "results"  [var-annotated]
backend\features\guardian\router.py:173: error: Unsupported operand types for + ("object" and "int")  [operator]
backend\features\guardian\router.py:174: error: Unsupported operand types for + ("object" and "int")  [operator]
backend\features\guardian\router.py:175: error: Unsupported operand types for + ("object" and "int")  [operator]
backend\features\guardian\router.py:184: error: Unsupported operand types for + ("object" and "int")  [operator]
backend\features\guardian\router.py:185: error: Unsupported operand types for + ("object" and "int")  [operator]
backend\features\guardian\router.py:186: error: Unsupported operand types for + ("object" and "int")  [operator]
backend\features\guardian\router.py:195: error: Unsupported operand types for + ("object" and "int")  [operator]
backend\features\guardian\router.py:196: error: Unsupported operand types for + ("object" and "int")  [operator]
backend\features\guardian\router.py:197: error: Unsupported operand types for + ("object" and "int")  [operator]
backend\features\beta_report\router.py:220: error: "object" has no attribute "append"  [attr-defined]
backend\features\beta_report\router.py:223: error: "object" has no attribute "append"  [attr-defined]
backend\features\beta_report\router.py:227: error: "object" has no attribute "append"  [attr-defined]
backend\features\beta_report\router.py:233: error: Argument 1 to "len" has incompatible type "object"; expected "Sized"  [arg-type]
backend\features\beta_report\router.py:234: error: Argument 1 to "len" has incompatible type "object"; expected "Sized"  [arg-type]
backend\core\ws_outbox.py:69: error: Incompatible types in assignment (expression has type "None", variable has type "Gauge")  [assignment]
backend\core\ws_outbox.py:70: error: Incompatible types in assignment (expression has type "None", variable has type "Histogram")  [assignment]
backend\core\ws_outbox.py:71: error: Incompatible types in assignment (expression has type "None", variable has type "Histogram")  [assignment]
backend\core\ws_outbox.py:72: error: Incompatible types in assignment (expression has type "None", variable has type "Counter")  [assignment]
backend\core\ws_outbox.py:73: error: Incompatible types in assignment (expression has type "None", variable has type "Counter")  [assignment]
backend\features\gmail\oauth_service.py:17: error: Skipping analyzing "google_auth_oauthlib.flow": module is installed, but missing library stubs or py.typed marker  [import-untyped]
backend\features\gmail\oauth_service.py:131: error: Module "google.cloud" has no attribute "firestore"  [attr-defined]
backend\features\gmail\oauth_service.py:160: error: Module "google.cloud" has no attribute "firestore"  [attr-defined]
backend\features\gmail\gmail_service.py:15: error: Skipping analyzing "googleapiclient.discovery": module is installed, but missing library stubs or py.typed marker  [import-untyped]
backend\features\gmail\gmail_service.py:16: error: Skipping analyzing "googleapiclient.errors": module is installed, but missing library stubs or py.typed marker  [import-untyped]
backend\features\memory\memory_query_tool.py:256: error: Dict entry 0 has incompatible type "str": "dict[str, int]"; expected "str": "str"  [dict-item]
backend\features\memory\memory_query_tool.py:263: error: Dict entry 0 has incompatible type "str": "dict[str, str]"; expected "str": "str"  [dict-item]
backend\features\memory\memory_query_tool.py:575: error: Need type annotation for "timeline"  [var-annotated]
backend\features\documents\service.py:178: error: Need type annotation for "chunks" (hint: "chunks: list[<type>] = ...")  [var-annotated]
backend\features\documents\service.py:184: error: Need type annotation for "current_paragraph" (hint: "current_paragraph: list[<type>] = ...")  [var-annotated]
backend\features\documents\service.py:209: error: Need type annotation for "current_chunk_paragraphs" (hint: "current_chunk_paragraphs: list[<type>] = ...")  [var-annotated]
backend\features\documents\service.py:213: error: Argument 1 to "join" of "str" has incompatible type "object"; expected "Iterable[str]"  [arg-type]
backend\features\documents\service.py:462: error: Incompatible types in assignment (expression has type "str", target has type "int")  [assignment]
backend\features\documents\service.py:464: error: Incompatible types in assignment (expression has type "str", target has type "int")  [assignment]
backend\cli\backfill_agent_ids.py:72: error: Dict entry 0 has incompatible type "str": "list[dict[str, str]]"; expected "str": "str"  [dict-item]
backend\features\chat\memory_ctx.py:65: note: By default the bodies of untyped functions are not checked, consider using --check-untyped-defs  [annotation-unchecked]
backend\shared\dependencies.py:206: error: List item 0 has incompatible type "str | None"; expected "str"  [list-item]
backend\shared\dependencies.py:207: error: List item 1 has incompatible type "str | None"; expected "str"  [list-item]
backend\shared\dependencies.py:208: error: List item 2 has incompatible type "str | None"; expected "str"  [list-item]
backend\features\memory\analyzer.py:401: error: Item "None" of "ChatService | None" has no attribute "get_structured_llm_response"  [union-attr]
backend\features\memory\analyzer.py:437: error: Item "None" of "ChatService | None" has no attribute "get_structured_llm_response"  [union-attr]
backend\features\memory\analyzer.py:469: error: Item "None" of "ChatService | None" has no attribute "get_structured_llm_response"  [union-attr]
backend\features\memory\gardener.py:1786: note: By default the bodies of untyped functions are not checked, consider using --check-untyped-defs  [annotation-unchecked]
backend\features\memory\gardener.py:1787: note: By default the bodies of untyped functions are not checked, consider using --check-untyped-defs  [annotation-unchecked]
backend\features\memory\gardener.py:1804: note: By default the bodies of untyped functions are not checked, consider using --check-untyped-defs  [annotation-unchecked]
backend\features\memory\gardener.py:1813: note: By default the bodies of untyped functions are not checked, consider using --check-untyped-defs  [annotation-unchecked]
backend\features\memory\gardener.py:1852: note: By default the bodies of untyped functions are not checked, consider using --check-untyped-defs  [annotation-unchecked]
backend\features\memory\gardener.py:1853: note: By default the bodies of untyped functions are not checked, consider using --check-untyped-defs  [annotation-unchecked]
backend\features\memory\gardener.py:1854: note: By default the bodies of untyped functions are not checked, consider using --check-untyped-defs  [annotation-unchecked]
backend\features\memory\gardener.py:1855: note: By default the bodies of untyped functions are not checked, consider using --check-untyped-defs  [annotation-unchecked]
backend\features\memory\gardener.py:1856: note: By default the bodies of untyped functions are not checked, consider using --check-untyped-defs  [annotation-unchecked]
backend\features\memory\gardener.py:1857: note: By default the bodies of untyped functions are not checked, consider using --check-untyped-defs  [annotation-unchecked]
backend\features\chat\service.py:18: error: Library stubs not installed for "yaml"  [import-untyped]
backend\features\chat\service.py:18: note: Hint: "python3 -m pip install types-PyYAML"
backend\features\chat\service.py:18: note: (or run "mypy --install-types" to install all missing stub packages)
backend\features\chat\service.py:537: error: Incompatible types in assignment (expression has type "str", target has type "bool")  [assignment]
backend\features\chat\service.py:539: error: Incompatible types in assignment (expression has type "str", target has type "bool")  [assignment]
backend\features\chat\service.py:541: error: Incompatible types in assignment (expression has type "str", target has type "bool")  [assignment]
backend\features\chat\service.py:543: error: Incompatible types in assignment (expression has type "None", target has type "bool")  [assignment]
backend\features\chat\service.py:553: error: Incompatible types in assignment (expression has type "list[Any]", target has type "bool")  [assignment]
backend\features\chat\service.py:561: error: Incompatible types in assignment (expression has type "str", target has type "bool")  [assignment]
backend\features\chat\service.py:1254: error: "None" has no attribute "query"  [attr-defined]
backend\features\chat\service.py:1349: error: Skipping analyzing "sklearn.metrics.pairwise": module is installed, but missing library stubs or py.typed marker  [import-untyped]
backend\features\chat\service.py:1419: error: Need type annotation for "word_freq" (hint: "word_freq: dict[<type>, <type>] = ...")  [var-annotated]
backend\features\memory\router.py:2172: error: Need type annotation for "dashboard"  [var-annotated]
backend\features\memory\router.py:2269: error: "Collection[Any]" has no attribute "append"  [attr-defined]
backend\cli\consolidate_archived_threads.py:90: error: Argument 1 to "append" of "list" has incompatible type "int"; expected "str"  [arg-type]
